[user]
    
    useConfigOnly = true
    name = Martijn Gastkemper

[init]

    templatedir = ~/.dotfiles/git_template

[alias]

    # Locally exclude file without adding it to .gitignore
    exclude = !sh -c 'echo "$1" >> .git/info/exclude' -

    # Create a feature branch
    feature = "!f() { git checkout -b 'feature/'$(git config user.name | cut -d' ' -f1 | awk '{print tolower($0)}')'-'$1; }; f"

    # Create a hotfix branch
    hotfix = "!f() { [ x$# != x2 ]&&echo "Two arguments required!" >&2 || git checkout -b 'hotfix/'$(git config user.name | cut -d' ' -f1 | awk '{print tolower($0)}')'-'$1 $2; }; f"

    # Interactive rebase from local branch eg. git rbi master
    rbi = !sh -c \"git rebase -i `git merge-base ${1:-origin/master} HEAD`\" -

    # Delete branch, it will use `-D` (force) if the other branch does not contain commits that are not in the current branch. Otherwise it will use `-d
    # Credits: https://github.com/harmenjanssen/dotfiles
    delete = "!f() { if [ $(git log --left-right --oneline --cherry-pick $1... | sed -n -e '/^</p' | wc -l) -gt 0 ]; then git branch -d $1; else git branch -D $1; fi }; f"

[rebase]

    autoSquash = true
    abbreviateCommands = true
    autoStash = true

[core]

    excludesfile = ~/.dotfiles/gitignore_global

[branch]

    autosetupmerge = always

[commit]

    gpgsign = true
